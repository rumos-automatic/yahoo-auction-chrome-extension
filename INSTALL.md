# インストールガイド

## 📦 事前準備

### 1. アイコンファイルの準備（オプション）

`icons` フォルダに以下のアイコンを配置してください。アイコンがない場合は次のステップに進んでください。

- `icon16.png` (16x16ピクセル)
- `icon48.png` (48x48ピクセル)
- `icon128.png` (128x128ピクセル)

**アイコンがない場合**:

`manifest.json` を開いて、以下の部分を削除してください：

```json
// 削除する部分（2箇所）
"default_icon": {
  "16": "icons/icon16.png",
  "48": "icons/icon48.png",
  "128": "icons/icon128.png"
},

"icons": {
  "16": "icons/icon16.png",
  "48": "icons/icon48.png",
  "128": "icons/icon128.png"
}
```

## 🚀 インストール手順

### Chrome / Edgeの場合

#### Step 1: 拡張機能管理画面を開く

**Chrome**:
- アドレスバーに `chrome://extensions/` と入力してEnter

**Edge**:
- アドレスバーに `edge://extensions/` と入力してEnter

#### Step 2: デベロッパーモードを有効化

右上の「デベロッパーモード」のトグルスイッチをONにします。

#### Step 3: 拡張機能を読み込む

1. 「パッケージ化されていない拡張機能を読み込む」ボタンをクリック
2. `yahoo-auction-chrome-extension` フォルダを選択
3. 「フォルダーの選択」をクリック

#### Step 4: 確認

拡張機能が正しく読み込まれると、拡張機能のリストに「ヤフオク自動出品ツール」が表示されます。

## ✅ 動作確認

### 1. アイコンの確認

ブラウザのツールバーに拡張機能のアイコンが表示されているか確認します。

表示されていない場合:
- ツールバー右側のパズルアイコンをクリック
- 「ヤフオク自動出品ツール」の横のピンアイコンをクリックして固定

### 2. ポップアップの確認

拡張機能アイコンをクリックして、ポップアップUIが表示されるか確認します。

### 3. テスト実行

1. ヤフオクにログイン: `https://auctions.yahoo.co.jp/`
2. 拡張機能を開く
3. サンプルCSVファイル（`sample.csv`）を選択
4. テスト用の画像フォルダを選択
5. 「🚀 自動出品開始」ボタンが有効になるか確認

## 🔧 トラブルシューティング

### エラー: "Manifest version 2 is deprecated"

これは警告メッセージです。Manifest V3を使用しているため、無視して問題ありません。

### エラー: "Could not load icon"

アイコンファイルがない場合に発生します。上記の「アイコンファイルの準備」セクションを参照して、manifest.jsonからアイコンの設定を削除してください。

### 拡張機能が読み込めない

**原因1: ファイル構造が正しくない**

以下の構造になっているか確認してください：

```
yahoo-auction-chrome-extension/
├── manifest.json
├── popup/
│   ├── popup.html
│   ├── popup.js
│   └── popup.css
├── content/
│   └── content.js
├── background/
│   └── background.js
└── lib/
    ├── csvParser.js
    └── utils.js
```

**原因2: JSONファイルの構文エラー**

`manifest.json` をテキストエディタで開いて、構文エラーがないか確認してください。

### ポップアップが開かない

1. 拡張機能管理画面で拡張機能が有効になっているか確認
2. ブラウザを再起動
3. 拡張機能を削除して再度読み込む

### Content Scriptが動作しない

1. ヤフオクのページをリロード
2. ブラウザのコンソール（F12）でエラーがないか確認
3. manifest.jsonの `matches` URLが正しいか確認

## 🔄 アップデート方法

拡張機能を更新した場合：

1. 拡張機能管理画面を開く
2. 「ヤフオク自動出品ツール」の「再読み込み」ボタンをクリック
3. ブラウザを再起動（推奨）

## 🗑️ アンインストール方法

1. 拡張機能管理画面を開く
2. 「ヤフオク自動出品ツール」の「削除」ボタンをクリック
3. 確認ダイアログで「削除」をクリック

## 📝 次のステップ

インストールが完了したら、[README.md](README.md) の「使用方法」セクションを参照してください。

## 💡 ヒント

### 開発者ツールを使う

問題が発生した場合は、開発者ツールでログを確認できます：

**Popup**:
1. 拡張機能アイコンを右クリック
2. 「検証」を選択

**Background Script**:
1. 拡張機能管理画面を開く
2. 「ヤフオク自動出品ツール」の「詳細」をクリック
3. 「バックグラウンドページを検証」をクリック

**Content Script**:
1. ヤフオクのページでF12を押す
2. Consoleタブでログを確認

### パーミッションの確認

拡張機能には以下のパーミッションが必要です：

- `storage`: 設定の保存
- `notifications`: 完了通知
- `activeTab`: アクティブタブへのアクセス
- `scripting`: スクリプトの注入
- `https://auctions.yahoo.co.jp/*`: ヤフオクへのアクセス

## 🆘 サポート

問題が解決しない場合は、以下の情報を確認してください：

1. Chromeのバージョン: `chrome://version/`
2. エラーメッセージの内容
3. コンソールログ（F12 → Console）
4. 実行環境（OS、ブラウザ）

---

**重要**: この拡張機能は開発版です。本番環境で使用する前に、必ずテスト環境で動作確認を行ってください。
